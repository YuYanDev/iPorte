{"version":3,"sources":["img/language.svg","config/i18n/index.js","store/index.js","lib/ajax.js","view/application/index.js","api/application.js","view/setting/setting-form/index.js","view/setting/index.js","view/App.js","api/common.js","index.js"],"names":["module","exports","zh_CN","now","en_US","initialState","navbarkey","lang","langConfig","localStorage","getItem","setnavbarkey","state","action","setLang","createStore","type","axios","defaults","headers","timeout","this","queue","url","instance","interceptors","response","use","data","destroy","console","log","code","window","location","href","msg","message","error","content","Promise","reject","options","create","Object","assign","Application","statusHashMap","Stop","Running","applicationList","addAndEditDomainModalVisible","addAndEditDomainModalType","addAndEditDomainModalId","addAndEditDomainModalData","addAndEditRuleModalVisible","addAndEditRuleModalType","addAndEditRuleModalId","addAndEditRuleModalData","stopModalVisible","stopModalType","stopModalTypeId","stopModalTypeName","dropModalVisible","dropModalType","dropModalTypeId","dropModalTypeName","handleAddAndEditDomainModalOpen","id","setState","handleAddAndEditDomainModalOk","handleAddAndEditDomainModalCancel","handleAddAndEditRuleModalOpen","handleAddAndEditRuleModalOk","handleAddAndEditRuleModalCancel","handleStopModalOpen","name","handleStopModalOk","handleStopModalCancel","handleDropModalOpen","handleDropModalOk","handleDropModalCancel","domainChildTable","columns","getForwardListColumns","dataSource","rule","pagination","props","title","dataIndex","key","width","render","text","record","length","status","align","onClick","className","rewrite","rewrite_rule","params","getApplicationList","ajax","request","method","applications","fetchApplicationList","style","textAlign","paddingBottom","icon","getDomainListColumns","expandedRowRender","visible","onOk","onCancel","footer","ghost","borderColor","color","React","Component","connect","store","Option","SettingForm","languageList","value","formItemLayout","labelCol","span","changeLanguage","event","setItem","languageOptions","map","d","Item","label","src","language","alt","defaultValue","onChange","dispatch","Setting","Header","Content","Footer","Sider","App","yearNow","Date","getFullYear","username","switchRouter","info","hash","getUserInfo","userData","overflow","height","position","left","zIndex","theme","mode","defaultSelectedKeys","marginTop","fontSize","marginLeft","minWidth","background","padding","marginRight","margin","from","to","path","component","ReactDOM","document","getElementById"],"mappings":"mFAAAA,EAAOC,QAAU,IAA0B,sC,gMCsE5B,GACbC,MAvEY,CACZC,IAAK,QACL,qBAAsB,eACtB,mBAAoB,eACpB,mBAAoB,eACpB,kBAAmB,eACnB,mBAAoB,eACpB,qBAAsB,eACtB,sBAAuB,eACvB,qBAAsB,eACtB,8BAA+B,2BAC/B,0BAA2B,eAC3B,8BAA+B,2BAC/B,mCAAoC,iBACpC,8BAA+B,eAC/B,gCAAiC,eACjC,oCAAqC,2BACrC,iCAAkC,iBAClC,mCAAoC,2BACpC,gCAAiC,eACjC,gCAAiC,eACjC,8BAA+B,eAC/B,iCAAkC,2BAClC,gCAAiC,2BACjC,wCAAyC,2BACzC,sCAAuC,2BACvC,6BAA8B,2BAC9B,4BAA6B,eAC7B,0BAA2B,2BAC3B,iCAAkC,yDAClC,+BAAgC,qEAChC,iCAAkC,yDAClC,+BAAgC,sEAwChCC,MArCY,CACZD,IAAK,QACL,qBAAsB,SACtB,mBAAoB,SACpB,mBAAoB,OACpB,kBAAmB,MACnB,mBAAoB,OACpB,qBAAsB,SACtB,sBAAuB,UACvB,qBAAsB,SACtB,8BAA+B,eAC/B,0BAA2B,UAC3B,8BAA+B,aAC/B,mCAAoC,YACpC,8BAA+B,OAC/B,gCAAiC,SACjC,oCAAqC,aACrC,iCAAkC,UAClC,mCAAoC,YACpC,gCAAiC,SACjC,gCAAiC,SACjC,8BAA+B,OAC/B,iCAAkC,UAClC,gCAAiC,SACjC,wCAAyC,iBACzC,sCAAuC,eACvC,6BAA8B,WAC9B,4BAA6B,SAC7B,0BAA2B,OAC3B,iCAAkC,iCAClC,+BAAgC,+BAChC,iCAAkC,mCAClC,+BAAgC,mCChE5BE,EAAe,CACnBC,UAAW,cACXC,KACEC,EACwC,OAAtCC,aAAaC,QAAQ,aACjBD,aAAaC,QAAQ,aACrB,UAIJC,EAAe,SAACC,EAAOC,GAC3B,OAAO,eAAKD,EAAZ,CAAmBN,UAAWO,EAAOP,aAGjCQ,EAAU,SAACF,EAAOC,GACtB,OAAO,eAAKD,EAAZ,CAAmBL,KAAMC,EAAWK,EAAON,SAc9BQ,eAXC,WAAmC,IAAlCH,EAAiC,uDAAzBP,EAAcQ,EAAW,uCAChD,OAAQA,EAAOG,MACb,IAAK,iBACH,OAAOL,EAAaC,EAAOC,GAC7B,IAAK,WACH,OAAOC,EAAQF,EAAOC,GACxB,QACE,OAAOD,M,8IC1BbK,IAAMC,SAASC,QAAQ,gBAAkB,oCACzCF,IAAMC,SAASE,QAAU,I,IA8CV,M,WA3Cb,aAAgB,oBACdC,KAAKC,MAAQ,G,oDAENC,UACAF,KAAKC,MAAMC,K,mCAENC,EAAUD,GAAM,IAAD,OAE3BC,EAASC,aAAaC,SAASC,KAC7B,YAAoB,IAAD,IAAhBC,YAAgB,MAAT,GAAS,EAKjB,GAHA,EAAKC,QAAQN,GACbO,QAAQC,IAAIH,EAAKI,MAEC,MAAdJ,EAAKI,KAAc,CACJ,MAAdJ,EAAKI,OACNC,OAAOC,SAASC,KAAO,eAEzB,IAAIC,EAAMR,EAAKS,QACVD,IACHA,EAAM,wCAIV,OAAOR,KAET,SAAAU,GAIE,OAHDR,QAAQQ,MAAM,CACXC,QAAS,mCAEJC,QAAQC,OAAOH,Q,8BAInBI,GACP,IAAIlB,EAAWP,IAAM0B,SAIrB,OAHAtB,KAAKI,aAAaD,GAClBkB,EAAUE,OAAOC,OAAO,GAAIH,GAC5BrB,KAAKC,MAAMoB,EAAQnB,KAAOC,EACnBA,EAASkB,O,4ECxCdI,E,2MACJC,cAAgB,CACdC,KAAM,QACNC,QAAS,W,EA2KXrC,MAAQ,CACNsC,gBAAiB,GAEjBC,8BAA8B,EAC9BC,0BAA2B,MAC3BC,wBAAyB,KACzBC,0BAA2B,GAE3BC,4BAA4B,EAC5BC,wBAAyB,MACzBC,sBAAuB,KACvBC,wBAAyB,GAEzBC,kBAAkB,EAClBC,cAAe,SACfC,gBAAiB,KACjBC,kBAAmB,GAEnBC,kBAAkB,EAClBC,cAAe,SACfC,gBAAiB,KACjBC,kBAAmB,I,EAMrBC,gCAAkC,SAACnD,EAAMoD,EAAIxC,GAC9B,SAATZ,EACF,EAAKqD,SAAS,CACZlB,8BAA8B,EAC9BC,0BAA2B,OAC3BC,wBAAyBe,EACzBd,0BAA2B1B,IAG7B,EAAKyC,SAAS,CACZlB,8BAA8B,EAC9BC,0BAA2B,MAC3BC,wBAAyB,KACzBC,0BAA2B,M,EAKjCgB,8BAAgC,WAC9B,EAAKC,qC,EAGPA,kCAAoC,WAClC,EAAKF,SAAS,CACZlB,8BAA8B,EAC9BC,0BAA2B,MAC3BC,wBAAyB,KACzBC,0BAA2B,M,EAO/BkB,8BAAgC,SAACxD,EAAMoD,EAAIxC,GAC5B,SAATZ,EACF,EAAKqD,SAAS,CACZd,4BAA4B,EAC5BC,wBAAyB,OACzBC,sBAAuBW,EACvBV,wBAAyB9B,IAG3B,EAAKyC,SAAS,CACZd,4BAA4B,EAC5BC,wBAAyB,MACzBC,sBAAuB,KACvBC,wBAAyB,M,EAK/Be,4BAA8B,WAC5B,EAAKC,mC,EAGPA,gCAAkC,WAChC,EAAKL,SAAS,CACZd,4BAA4B,EAC5BC,wBAAyB,MACzBC,sBAAuB,KACvBC,wBAAyB,M,EAO7BiB,oBAAsB,SAAC3D,EAAMoD,EAAIQ,GAC/B,EAAKP,SAAS,CACZV,kBAAkB,EAClBC,cAAe5C,EACf6C,gBAAiBO,EACjBN,kBAAmBc,K,EAIvBC,kBAAoB,WAClB,EAAKC,yB,EAGPA,sBAAwB,WACtB,EAAKT,SAAS,CACZV,kBAAkB,EAClBC,cAAe,SACfC,gBAAiB,KACjBC,kBAAmB,M,EAOvBiB,oBAAsB,SAAC/D,EAAMoD,EAAIQ,GAC/B,EAAKP,SAAS,CACZN,kBAAkB,EAClBC,cAAehD,EACfiD,gBAAiBG,EACjBF,kBAAmBU,K,EAIvBI,kBAAoB,WAClB,EAAKC,yB,EAGPA,sBAAwB,WACtB,EAAKZ,SAAS,CACZN,kBAAkB,EAClBC,cAAe,SACfC,gBAAiB,KACjBC,kBAAmB,M,EAgBvBgB,iBAAmB,SAAAtD,GACjB,OACE,uBACEuD,QAAS,EAAKC,wBACdC,WAAYzD,EAAK0D,KACjBC,YAAY,K,sFAvUM,IAAD,OACfhF,EAAOc,KAAKmE,MAAMjF,KACxB,MAAO,CACL,CACEkF,MAAOlF,EAAK,oCACZmF,UAAW,KACXC,IAAK,KACLC,MAAO,KAET,CACEH,MAAOlF,EAAK,+BACZmF,UAAW,OACXC,IAAK,OACLC,MAAO,KAET,CACEH,MAAOlF,EAAK,iCACZmF,UAAW,SACXC,IAAK,SACLC,MAAO,KAET,CACEH,MAAOlF,EAAK,qCACZoF,IAAK,OACLE,OAAQ,SAACC,EAAMC,GAAP,OAAkB,8BAAOA,EAAOT,KAAKU,UAE/C,CACEP,MAAOlF,EAAK,iCACZoF,IAAK,SACLD,UAAW,SACXE,MAAO,IACPC,OAAQ,SAACC,EAAMC,GAAP,OACN,8BACE,uBAAOE,OAAQ,EAAKlD,cAAc+C,KACjCA,KAIP,CACEL,MAAOlF,EAAK,yCACZoF,IAAK,SACLC,MAAO,IACPM,MAAO,QACPL,OAAQ,SAACC,EAAMC,GAAP,OACN,8BACE,uBAAGI,QAAS,kBAAM,EAAK3B,8BAA8B,SAClDjE,EAAK,+BAEP,MACD,uBACE6F,UAAU,YACVD,QAAS,kBACP,EAAKhC,gCAAgC,OAAQ4B,EAAO3B,GAAI2B,KAGzDxF,EAAK,uBAEP,MACD,uBACE6F,UAAU,YACVD,QAAS,kBACP,EAAKxB,oBAAoB,SAAUoB,EAAO3B,GAAI2B,EAAOnB,QAGtDrE,EAAK,qBAEP,MACD,uBACE6F,UAAU,aACVD,QAAS,kBACP,EAAKpB,oBAAoB,SAAUgB,EAAO3B,GAAI2B,EAAOnB,QAGtDrE,EAAK,2B,8CAQO,IAAD,OAChBA,EAAOc,KAAKmE,MAAMjF,KACxB,MAAO,CACL,CACEkF,MAAOlF,EAAK,kCACZmF,UAAW,KACXC,IAAK,KACLC,MAAO,KAET,CACEH,MAAOlF,EAAK,oCACZmF,UAAW,OACXC,IAAK,OACLC,MAAO,KAET,CACEH,MAAOlF,EAAK,iCACZmF,UAAW,SACXC,IAAK,SACLC,MAAO,KAET,CACEH,MAAOlF,EAAK,+BACZmF,UAAW,OACXC,IAAK,QAEP,CACEF,MAAOlF,EAAK,kCACZoF,IAAK,UACLE,OAAQ,SAACC,EAAMC,GAAP,OAAmBA,EAAOM,QAAUN,EAAOO,aAAe,MAEpE,CACEb,MAAOlF,EAAK,iCACZoF,IAAK,SACLD,UAAW,UAEb,CACED,MAAOlF,EAAK,iCACZoF,IAAK,SACLD,UAAW,SACXE,MAAO,IACPC,OAAQ,SAACC,EAAMC,GAAP,OACN,8BACE,uBAAOE,OAAQ,EAAKlD,cAAc+C,KACjCA,KAIP,CACEL,MAAOlF,EAAK,uCACZoF,IAAK,SACLC,MAAO,IACPM,MAAO,QACPL,OAAQ,SAACC,EAAMC,GAAP,OACN,8BACE,uBACEK,UAAU,YACVD,QAAS,kBACP,EAAK3B,8BAA8B,OAAQuB,EAAO3B,GAAI2B,KAGvDxF,EAAK,uBAEP,MACD,uBACE6F,UAAU,YACVD,QAAS,kBACP,EAAKxB,oBAAoB,OAAQoB,EAAO3B,GAAI2B,EAAOnB,QAGpDrE,EAAK,qBAEP,MACD,uBACE6F,UAAU,aACVD,QAAS,kBACP,EAAKpB,oBAAoB,OAAQgB,EAAO3B,GAAI2B,EAAOnB,QAGpDrE,EAAK,2B,gJCzKcgG,ODmUFC,EClU9BC,EAAKC,QAAQ,CACXnF,IAAK,wBACLgF,SACAI,OAAQ,U,OD+TJzD,E,OACJ7B,KAAKgD,SAAS,CAAEnB,gBAAiBA,EAAgBtB,KAAKgF,e,iCCpUxB,IAAAL,I,uDDwU9BlF,KAAKwF,yB,+BAaG,IAAD,OACDtG,EAAOc,KAAKmE,MAAMjF,KACxB,OACE,6BACE,yBAAKuG,MAAO,CAAEC,UAAW,OAAQC,cAAe,KAC9C,4BAAKzG,EAAK,gCACV,uBACES,KAAK,UACLiG,KAAK,OACLd,QAAS,kBAAM,EAAKhC,gCAAgC,SAEnD5D,EAAK,iCAGV,uBACE4E,QAAS9D,KAAK6F,uBACdC,kBAAmB9F,KAAK6D,iBACxBG,WAAYhE,KAAKT,MAAMsC,kBAKzB,uBACEkE,QAAS/F,KAAKT,MAAMuC,6BACpBkE,KAAMhG,KAAKiD,8BACXgD,SAAUjG,KAAKkD,kCACfkB,OAC4C,QAAzCpE,KAAKT,MAAMwC,0BACR7C,EAAK,mBACLA,EAAK,qBAAuBA,EAAK,6BAEvCgH,OAAQ,CACN,uBAAQ5B,IAAI,OAAOQ,QAAS9E,KAAKkD,mCAC9BhE,EAAK,uBAER,uBACEoF,IAAI,SACJ3E,KAAK,UACLmF,QAAS9E,KAAKiD,+BAEb/D,EAAK,0BAOZ,uBACE6G,QAAS/F,KAAKT,MAAM2C,2BACpB8D,KAAMhG,KAAKoD,4BACX6C,SAAUjG,KAAKqD,gCACfe,OAC0C,QAAvCpE,KAAKT,MAAM4C,wBACRjD,EAAK,mBACLA,EAAK,qBAAuBA,EAAK,2BAEvCgH,OAAQ,CACN,uBAAQ5B,IAAI,OAAOQ,QAAS9E,KAAKqD,iCAC9BnE,EAAK,uBAER,uBACEoF,IAAI,SACJ3E,KAAK,UACLmF,QAAS9E,KAAKoD,6BAEblE,EAAK,0BAOZ,uBACE6G,QAAS/F,KAAKT,MAAM+C,iBACpB0D,KAAMhG,KAAKwD,kBACXyC,SAAUjG,KAAKyD,sBACfyC,OAAQ,CACN,uBAAQ5B,IAAI,OAAOQ,QAAS9E,KAAKyD,uBAC9BvE,EAAK,uBAER,uBACEoF,IAAI,SACJ3E,KAAK,SACLwG,OAAK,EACLrB,QAAS9E,KAAKwD,kBACdiC,MAAO,CAAEW,YAAa,UAAWC,MAAO,YAEvCnH,EAAK,0BAIoB,WAA7Bc,KAAKT,MAAMgD,cACRrD,EAAK,kCACLA,EAAK,iCAKX,uBACE6G,QAAS/F,KAAKT,MAAMmD,iBACpBsD,KAAMhG,KAAK2D,kBACXsC,SAAUjG,KAAK4D,sBACfsC,OAAQ,CACN,uBAAQ5B,IAAI,OAAOQ,QAAS9E,KAAK4D,uBAC9B1E,EAAK,uBAER,uBACEoF,IAAI,SACJ3E,KAAK,SACLwG,OAAK,EACLrB,QAAS9E,KAAK2D,kBACd8B,MAAO,CAAEW,YAAa,UAAWC,MAAO,YAEvCnH,EAAK,0BAIoB,WAA7Bc,KAAKT,MAAMoD,cACRzD,EAAK,kCACLA,EAAK,sC,GAzcOoH,IAAMC,WAsdjBC,eANS,SAAAC,GACtB,MAAO,CACLvH,KAAMuH,EAAMvH,QAIDsH,CAAyB/E,G,qDErdhCiF,G,WAAAA,QAEFC,E,2MACJC,aAAe,CACb,CACEC,MAAO,QACPpC,KAAM,4BAER,CACEoC,MAAO,QACPpC,KAAM,Y,EAIVqC,eAAiB,CACfC,SAAU,CAAEC,KAAM,I,EAGpBC,eAAiB,SAAAC,GACf9H,aAAa+H,QAAQ,YAAaD,GAClC,EAAK/C,MAAM1E,QAAQyH,I,wEAInB,IAAME,EAAkBpH,KAAK4G,aAAaS,KAAI,SAAAC,GAAC,OAC7C,kBAACZ,EAAD,CAAQpC,IAAKgD,EAAET,OAAQS,EAAE7C,SAE3B,OACE,sBAAUzE,KAAK8G,eACb,sBAAMS,KAAN,CAAWC,MAAO,yBAAKC,IAAKC,IAAUC,IAAI,aAAclC,MAAO,CAAEC,UAAW,SAC1E,uBACEkC,aAAc5H,KAAKmE,MAAMjF,KAAX,IACduG,MAAO,CAAElB,MAAO,KAChBsD,SAAU7H,KAAKiH,gBAEdG,S,GAjCad,IAAMC,WAqDjB,MAAKjF,OAAO,CAAEiC,KAAM,WAApB,CACbiD,aAbsB,SAAAC,GACtB,MAAO,CACLvH,KAAMuH,EAAMvH,SAIW,SAAA4I,GACzB,MAAO,CACLrI,QAAS,SAAAP,GAAI,OAAI4I,EAAS,CAAEnI,KAAM,WAAYT,aAKhDsH,CAA6CG,ICzDzCoB,E,iLAEF,IAAM7I,EAAOc,KAAKmE,MAAMjF,KACxB,OACE,6BACE,yBAAKuG,MAAO,CAAEC,UAAW,OAAQC,cAAe,KAC9C,4BAAKzG,EAAK,6BAEZ,6BACE,kBAAC,EAAD,Y,GATYoH,IAAMC,WAsBbC,eANS,SAAAC,GACtB,MAAO,CACLvH,KAAMuH,EAAMvH,QAIDsH,CAAyBuB,GClBhCC,E,IAAAA,OAAQC,E,IAAAA,QAASC,E,IAAAA,OAAQC,E,IAAAA,MAE3BC,E,2MACJC,SAAU,IAAIC,MAAOC,c,EAErBhJ,MAAQ,CACNiJ,SAAU,I,EAQZC,aAAe,SAAAC,GACb9H,OAAOC,SAAS8H,KAAO,IAAMD,EAAKpE,K,sLCtBXY,ODiBF0D,EChBvBxD,EAAKC,QAAQ,CACXnF,IAAK,qBACLgF,SACAI,OAAQ,U,ODaJuD,E,OACJ7I,KAAKgD,SAAL,eAAmB6F,I,iCClBI,IAAA3D,I,4CD0BvB,OACE,yBAAKH,UAAU,OACb,2BACE,kBAACoD,EAAD,CACE1C,MAAO,CACLqD,SAAU,OACVC,OAAQ,QACRC,SAAU,QACVC,KAAM,EACNC,OAAQ,MAGV,yBAAKnE,UAAU,SACf,uBACEoE,MAAM,OACNC,KAAK,SACLC,oBAAqB,CAACrJ,KAAKmE,MAAMlF,WACjC6F,QAAS9E,KAAKyI,cAEd,yBAAKhD,MAAO,CAAEsD,OAAQ,KACpB,uBACEtD,MAAO,CACL6D,UAAW,GACXC,SAAU,OACV7D,UAAW,WAJf,WAUF,sBAAM6B,KAAN,CAAWjD,IAAI,eACb,uBAAM3E,KAAK,mBACX,0BAAMoF,UAAU,YACb/E,KAAKmE,MAAMjF,KAAK,iCAGrB,sBAAMqI,KAAN,CAAWjD,IAAI,WACb,uBAAM3E,KAAK,YACX,0BAAMoF,UAAU,YACb/E,KAAKmE,MAAMjF,KAAK,+BAKzB,uBAAQuG,MAAO,CAAE+D,WAAY,IAAKC,SAAU,WAC1C,kBAACzB,EAAD,CAAQvC,MAAO,CAAEiE,WAAY,OAAQC,QAAS,IAC5C,uBAAGlE,MAAO,CAAEC,UAAW,QAASkE,YAAa,SAA7C,OACO5J,KAAKT,MAAMiJ,WAGpB,kBAACP,EAAD,CAASxC,MAAO,CAAEoE,OAAQ,cAAef,SAAU,YACjD,yBACErD,MAAO,CAAEkE,QAAS,GAAID,WAAY,OAAQhE,UAAW,WAErD,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAUoE,KAAK,IAAIC,GAAG,iBACtB,kBAAC,IAAD,CAAOC,KAAK,eAAeC,UAAWxI,IACtC,kBAAC,IAAD,CAAOuI,KAAK,WAAWC,UAAWlC,OAIxC,kBAACG,EAAD,CAAQzC,MAAO,CAAEC,UAAW,WAA5B,OACI1F,KAAKqI,QADT,8B,GA9EM/B,IAAMC,WA+FTC,eAPS,SAAAC,GACtB,MAAO,CACLvH,KAAMuH,EAAMvH,KACZD,UAAWwH,EAAMxH,aAINuH,CAAyB4B,GEnGxC8B,IAAS1F,OACP,kBAAC,IAAD,CAAUiC,MAAOA,GACf,kBAAC,EAAD,OAEF0D,SAASC,eAAe,W","file":"static/js/main.f0e1cc18.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/language.ac8e88d6.svg\";","const zh_CN = {\n  now: \"zh_CN\",\n  \"common.text.modify\": \"修改\",\n  \"common.text.drop\": \"删除\",\n  \"common.text.stop\": \"暂停\",\n  \"common.text.add\": \"添加\",\n  \"common.text.edit\": \"修改\",\n  \"common.text.submit\": \"提交\",\n  \"common.text.confirm\": \"确认\",\n  \"common.text.cancel\": \"取消\",\n  \"common.nav.menu.application\": \"应用列表\",\n  \"common.nav.menu.setting\": \"设置\",\n  \"application.body.add_domain\": \"添加域名\",\n  \"application.table.head.domain_id\": \"域名ID\",\n  \"application.table.head.name\": \"名称\",\n  \"application.table.head.domain\": \"域名\",\n  \"application.table.head.rule_count\": \"规则数量\",\n  \"application.table.head.rule_id\": \"规则ID\",\n  \"application.table.head.rule_name\": \"规则名称\",\n  \"application.table.head.suffix\": \"后缀\",\n  \"application.table.head.status\": \"状态\",\n  \"application.table.head.type\": \"类型\",\n  \"application.table.head.rewrite\": \"目录重写\",\n  \"application.table.head.target\": \"转发地址\",\n  \"application.table.head.domain_operate\": \"域名操作\",\n  \"application.table.head.rule_operate\": \"规则操作\",\n  \"application.table.add_rule\": \"添加规则\",\n  \"application.common.domain\": \"域名\",\n  \"application.common.rule\": \"转发规则\",\n  \"application.common.stop_domain\": \"确定停用此域名吗？\",\n  \"application.common.stop_rule\": \"确定停用此转发规则吗？\",\n  \"application.common.drop_domain\": \"确定删除此域名吗？\",\n  \"application.common.drop_rule\": \"确定删除此转发规则吗？\",\n};\n\nconst en_US = {\n  now: \"en_US\",\n  \"common.text.modify\": \"Modify\",\n  \"common.text.drop\": \"Delete\",\n  \"common.text.stop\": \"Stop\",\n  \"common.text.add\": \"Add\",\n  \"common.text.edit\": \"Edit\",\n  \"common.text.submit\": \"Submit\",\n  \"common.text.confirm\": \"Confirm\",\n  \"common.text.cancel\": \"Cancel\",\n  \"common.nav.menu.application\": \"Applications\",\n  \"common.nav.menu.setting\": \"Setting\",\n  \"application.body.add_domain\": \"Add Domain\",\n  \"application.table.head.domain_id\": \"Domain ID\",\n  \"application.table.head.name\": \"Name\",\n  \"application.table.head.domain\": \"Domain\",\n  \"application.table.head.rule_count\": \"Rule Count\",\n  \"application.table.head.rule_id\": \"Rule ID\",\n  \"application.table.head.rule_name\": \"Rule Name\",\n  \"application.table.head.suffix\": \"Suffix\",\n  \"application.table.head.status\": \"Status\",\n  \"application.table.head.type\": \"Type\",\n  \"application.table.head.rewrite\": \"Rewrite\",\n  \"application.table.head.target\": \"Target\",\n  \"application.table.head.domain_operate\": \"Domain Operate\",\n  \"application.table.head.rule_operate\": \"Rule Operate\",\n  \"application.table.add_rule\": \"Add Rule\",\n  \"application.common.domain\": \"Domain\",\n  \"application.common.rule\": \"Rule\",\n  \"application.common.stop_domain\": \"Are you sure stop this domain?\",\n  \"application.common.stop_rule\": \"Are you sure stop this rule?\",\n  \"application.common.drop_domain\": \"Are you sure delete this domain?\",\n  \"application.common.drop_rule\": \"Are you sure delete this rule?\",\n};\n\nexport default {\n  zh_CN,\n  en_US\n};\n","import { createStore } from \"redux\";\nimport langConfig from \"../config/i18n\";\n\nconst initialState = {\n  navbarkey: \"application\",\n  lang:\n    langConfig[\n      localStorage.getItem(\"user_lang\") !== null\n        ? localStorage.getItem(\"user_lang\")\n        : \"en_US\"\n    ]\n};\n\nconst setnavbarkey = (state, action) => {\n  return { ...state, navbarkey: action.navbarkey };\n};\n\nconst setLang = (state, action) => {\n  return { ...state, lang: langConfig[action.lang] };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_NAVBAR_KEY\":\n      return setnavbarkey(state, action);\n    case \"SET_LANG\":\n      return setLang(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default createStore(reducer);\n","import axios from 'axios'\n\naxios.defaults.headers['Content-Type'] = 'application/x-www-form-urlencoded'\naxios.defaults.timeout = 10000\n\nclass Ajax {\n  constructor () {\n    this.queue = {}\n  }\n  destroy (url) {\n    delete this.queue[url]\n  }\n  interceptors (instance, url) {\n    // ajax global exception process\n    instance.interceptors.response.use(\n      ({ data = {} }) => {\n        // 提前销毁重复请求\n        this.destroy(url)\n        console.log(data.code)\n        // 业务状态码及URL校验\n        if (data.code !== 200) {\n          if(data.code === 401){\n            window.location.href = '/auth/login'\n          }\n          let msg = data.message\n          if (!msg) {\n            msg = '数据获取异常'\n          }\n\n        }\n        return data\n      },\n      error => {\n       console.error({\n          content: '服务器异常'\n        })\n        return Promise.reject(error)\n      }\n    )\n  }\n  request (options) {\n    let instance = axios.create()\n    this.interceptors(instance)\n    options = Object.assign({}, options)\n    this.queue[options.url] = instance\n    return instance(options)\n  }\n}\n\nexport default new Ajax()","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Table, Button, Badge, Modal } from \"antd\";\nimport { getApplicationList } from \"../../api/application\";\n\nclass Application extends React.Component {\n  statusHashMap = {\n    Stop: \"error\",\n    Running: \"success\"\n  };\n\n  getDomainListColumns() {\n    const lang = this.props.lang;\n    return [\n      {\n        title: lang[\"application.table.head.domain_id\"],\n        dataIndex: \"id\",\n        key: \"id\",\n        width: 100\n      },\n      {\n        title: lang[\"application.table.head.name\"],\n        dataIndex: \"name\",\n        key: \"name\",\n        width: 150\n      },\n      {\n        title: lang[\"application.table.head.domain\"],\n        dataIndex: \"domain\",\n        key: \"domain\",\n        width: 200\n      },\n      {\n        title: lang[\"application.table.head.rule_count\"],\n        key: \"rule\",\n        render: (text, record) => <span>{record.rule.length}</span>\n      },\n      {\n        title: lang[\"application.table.head.status\"],\n        key: \"status\",\n        dataIndex: \"status\",\n        width: 150,\n        render: (text, record) => (\n          <span>\n            <Badge status={this.statusHashMap[text]} />\n            {text}\n          </span>\n        )\n      },\n      {\n        title: lang[\"application.table.head.domain_operate\"],\n        key: \"action\",\n        width: 240,\n        align: \"right\",\n        render: (text, record) => (\n          <span>\n            <a onClick={() => this.handleAddAndEditRuleModalOpen(\"add\")}>\n              {lang[\"application.table.add_rule\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleAddAndEditDomainModalOpen(\"edit\", record.id, record)\n              }\n            >\n              {lang[\"common.text.modify\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleStopModalOpen(\"domain\", record.id, record.name)\n              }\n            >\n              {lang[\"common.text.stop\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"error-text\"\n              onClick={() =>\n                this.handleDropModalOpen(\"domain\", record.id, record.name)\n              }\n            >\n              {lang[\"common.text.drop\"]}\n            </a>\n          </span>\n        )\n      }\n    ];\n  }\n\n  getForwardListColumns() {\n    const lang = this.props.lang;\n    return [\n      {\n        title: lang[\"application.table.head.rule_id\"],\n        dataIndex: \"id\",\n        key: \"id\",\n        width: 100\n      },\n      {\n        title: lang[\"application.table.head.rule_name\"],\n        dataIndex: \"name\",\n        key: \"name\",\n        width: 150\n      },\n      {\n        title: lang[\"application.table.head.suffix\"],\n        dataIndex: \"suffix\",\n        key: \"suffix\",\n        width: 200\n      },\n      {\n        title: lang[\"application.table.head.type\"],\n        dataIndex: \"type\",\n        key: \"type\"\n      },\n      {\n        title: lang[\"application.table.head.rewrite\"],\n        key: \"rewrite\",\n        render: (text, record) => (record.rewrite ? record.rewrite_rule : \"-\")\n      },\n      {\n        title: lang[\"application.table.head.target\"],\n        key: \"target\",\n        dataIndex: \"target\"\n      },\n      {\n        title: lang[\"application.table.head.status\"],\n        key: \"status\",\n        dataIndex: \"status\",\n        width: 150,\n        render: (text, record) => (\n          <span>\n            <Badge status={this.statusHashMap[text]} />\n            {text}\n          </span>\n        )\n      },\n      {\n        title: lang[\"application.table.head.rule_operate\"],\n        key: \"action\",\n        width: 240,\n        align: \"right\",\n        render: (text, record) => (\n          <span>\n            <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleAddAndEditRuleModalOpen(\"edit\", record.id, record)\n              }\n            >\n              {lang[\"common.text.modify\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleStopModalOpen(\"rule\", record.id, record.name)\n              }\n            >\n              {lang[\"common.text.stop\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"error-text\"\n              onClick={() =>\n                this.handleDropModalOpen(\"rule\", record.id, record.name)\n              }\n            >\n              {lang[\"common.text.drop\"]}\n            </a>\n          </span>\n        )\n      }\n    ];\n  }\n\n  state = {\n    applicationList: [],\n    /* add and edit domain model state */\n    addAndEditDomainModalVisible: false,\n    addAndEditDomainModalType: \"add\",\n    addAndEditDomainModalId: null,\n    addAndEditDomainModalData: {},\n    /* add and edit domain rule state */\n    addAndEditRuleModalVisible: false,\n    addAndEditRuleModalType: \"add\",\n    addAndEditRuleModalId: null,\n    addAndEditRuleModalData: {},\n    /* stop domain or rule model state */\n    stopModalVisible: false,\n    stopModalType: \"domain\",\n    stopModalTypeId: null,\n    stopModalTypeName: \"\",\n    /* drop domain or rule model state */\n    dropModalVisible: false,\n    dropModalType: \"domain\",\n    dropModalTypeId: null,\n    dropModalTypeName: \"\"\n  };\n\n  /**\n   * add and edit domain model functions\n   */\n  handleAddAndEditDomainModalOpen = (type, id, data) => {\n    if (type === \"edit\") {\n      this.setState({\n        addAndEditDomainModalVisible: true,\n        addAndEditDomainModalType: \"edit\",\n        addAndEditDomainModalId: id,\n        addAndEditDomainModalData: data\n      });\n    } else {\n      this.setState({\n        addAndEditDomainModalVisible: true,\n        addAndEditDomainModalType: \"add\",\n        addAndEditDomainModalId: null,\n        addAndEditDomainModalData: {}\n      });\n    }\n  };\n\n  handleAddAndEditDomainModalOk = () => {\n    this.handleAddAndEditDomainModalCancel();\n  };\n\n  handleAddAndEditDomainModalCancel = () => {\n    this.setState({\n      addAndEditDomainModalVisible: false,\n      addAndEditDomainModalType: \"add\",\n      addAndEditDomainModalId: null,\n      addAndEditDomainModalData: {}\n    });\n  };\n\n  /**\n   * add and edit rule model functions\n   */\n  handleAddAndEditRuleModalOpen = (type, id, data) => {\n    if (type === \"edit\") {\n      this.setState({\n        addAndEditRuleModalVisible: true,\n        addAndEditRuleModalType: \"edit\",\n        addAndEditRuleModalId: id,\n        addAndEditRuleModalData: data\n      });\n    } else {\n      this.setState({\n        addAndEditRuleModalVisible: true,\n        addAndEditRuleModalType: \"add\",\n        addAndEditRuleModalId: null,\n        addAndEditRuleModalData: {}\n      });\n    }\n  };\n\n  handleAddAndEditRuleModalOk = () => {\n    this.handleAddAndEditRuleModalCancel();\n  };\n\n  handleAddAndEditRuleModalCancel = () => {\n    this.setState({\n      addAndEditRuleModalVisible: false,\n      addAndEditRuleModalType: \"add\",\n      addAndEditRuleModalId: null,\n      addAndEditRuleModalData: {}\n    });\n  };\n\n  /**\n   * stop domain or rule model functions\n   */\n  handleStopModalOpen = (type, id, name) => {\n    this.setState({\n      stopModalVisible: true,\n      stopModalType: type,\n      stopModalTypeId: id,\n      stopModalTypeName: name\n    });\n  };\n\n  handleStopModalOk = () => {\n    this.handleStopModalCancel();\n  };\n\n  handleStopModalCancel = () => {\n    this.setState({\n      stopModalVisible: false,\n      stopModalType: \"domain\",\n      stopModalTypeId: null,\n      stopModalTypeName: \"\"\n    });\n  };\n\n  /**\n   * drop domain or rule model functions\n   */\n  handleDropModalOpen = (type, id, name) => {\n    this.setState({\n      dropModalVisible: true,\n      dropModalType: type,\n      dropModalTypeId: id,\n      dropModalTypeName: name\n    });\n  };\n\n  handleDropModalOk = () => {\n    this.handleDropModalCancel();\n  };\n\n  handleDropModalCancel = () => {\n    this.setState({\n      dropModalVisible: false,\n      dropModalType: \"domain\",\n      dropModalTypeId: null,\n      dropModalTypeName: \"\"\n    });\n  };\n\n  /**\n   * other function\n   */\n  async fetchApplicationList() {\n    let applicationList = await getApplicationList();\n    this.setState({ applicationList: applicationList.data.applications });\n  }\n\n  componentDidMount() {\n    this.fetchApplicationList();\n  }\n\n  domainChildTable = data => {\n    return (\n      <Table\n        columns={this.getForwardListColumns()}\n        dataSource={data.rule}\n        pagination={false}\n      />\n    );\n  };\n\n  render() {\n    const lang = this.props.lang;\n    return (\n      <div>\n        <div style={{ textAlign: \"left\", paddingBottom: 16 }}>\n          <h1>{lang[\"common.nav.menu.application\"]}</h1>\n          <Button\n            type=\"primary\"\n            icon=\"plus\"\n            onClick={() => this.handleAddAndEditDomainModalOpen(\"add\")}\n          >\n            {lang[\"application.body.add_domain\"]}\n          </Button>\n        </div>\n        <Table\n          columns={this.getDomainListColumns()}\n          expandedRowRender={this.domainChildTable}\n          dataSource={this.state.applicationList}\n        />\n        {/**\n         * add/edit domain modal\n         */}\n        <Modal\n          visible={this.state.addAndEditDomainModalVisible}\n          onOk={this.handleAddAndEditDomainModalOk}\n          onCancel={this.handleAddAndEditDomainModalCancel}\n          title={\n            (this.state.addAndEditDomainModalType === \"add\"\n              ? lang[\"common.text.add\"]\n              : lang[\"common.text.edit\"]) + lang[\"application.common.domain\"]\n          }\n          footer={[\n            <Button key=\"back\" onClick={this.handleAddAndEditDomainModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"primary\"\n              onClick={this.handleAddAndEditDomainModalOk}\n            >\n              {lang[\"common.text.submit\"]}\n            </Button>\n          ]}\n        ></Modal>\n        {/**\n         * add/edit rule modal\n         */}\n        <Modal\n          visible={this.state.addAndEditRuleModalVisible}\n          onOk={this.handleAddAndEditRuleModalOk}\n          onCancel={this.handleAddAndEditRuleModalCancel}\n          title={\n            (this.state.addAndEditRuleModalType === \"add\"\n              ? lang[\"common.text.add\"]\n              : lang[\"common.text.edit\"]) + lang[\"application.common.rule\"]\n          }\n          footer={[\n            <Button key=\"back\" onClick={this.handleAddAndEditRuleModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"primary\"\n              onClick={this.handleAddAndEditRuleModalOk}\n            >\n              {lang[\"common.text.submit\"]}\n            </Button>\n          ]}\n        ></Modal>\n        {/**\n         * stop modal\n         */}\n        <Modal\n          visible={this.state.stopModalVisible}\n          onOk={this.handleStopModalOk}\n          onCancel={this.handleStopModalCancel}\n          footer={[\n            <Button key=\"back\" onClick={this.handleStopModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"danger\"\n              ghost\n              onClick={this.handleStopModalOk}\n              style={{ borderColor: \"#faad14\", color: \"#faad14\" }}\n            >\n              {lang[\"common.text.confirm\"]}\n            </Button>\n          ]}\n        >\n          {this.state.stopModalType === \"domain\"\n            ? lang[\"application.common.stop_domain\"]\n            : lang[\"application.common.stop_rule\"]}\n        </Modal>\n        {/**\n         * drop modal\n         */}\n        <Modal\n          visible={this.state.dropModalVisible}\n          onOk={this.handleDropModalOk}\n          onCancel={this.handleDropModalCancel}\n          footer={[\n            <Button key=\"back\" onClick={this.handleDropModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"danger\"\n              ghost\n              onClick={this.handleDropModalOk}\n              style={{ borderColor: \"#f5222d\", color: \"#f5222d\" }}\n            >\n              {lang[\"common.text.confirm\"]}\n            </Button>\n          ]}\n        >\n          {this.state.dropModalType === \"domain\"\n            ? lang[\"application.common.drop_domain\"]\n            : lang[\"application.common.drop_rule\"]}\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang\n  };\n};\n\nexport default connect(mapStateToProps)(Application);\n","import ajax from '../lib/ajax'\n\nexport const getApplicationList = params =>\n  ajax.request({\n    url: '/api/application/list',\n    params,\n    method: 'get'\n  })","import React from \"react\";\nimport { Form, Select } from \"antd\";\nimport { connect } from \"react-redux\";\nimport language from \"../../../img/language.svg\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass SettingForm extends React.Component {\n  languageList = [\n    {\n      value: \"zh_CN\",\n      text: \"简体中文\"\n    },\n    {\n      value: \"en_US\",\n      text: \"English\"\n    }\n  ];\n\n  formItemLayout = {\n    labelCol: { span: 1 }\n  };\n\n  changeLanguage = event => {\n    localStorage.setItem(\"user_lang\", event);\n    this.props.setLang(event);\n  };\n\n  render() {\n    const languageOptions = this.languageList.map(d => (\n      <Option key={d.value}>{d.text}</Option>\n    ));\n    return (\n      <Form {...this.formItemLayout}>\n        <Form.Item label={<img src={language} alt=\"language\"/>} style={{ textAlign: \"left\" }}>\n          <Select\n            defaultValue={this.props.lang[\"now\"]}\n            style={{ width: 120 }}\n            onChange={this.changeLanguage}\n          >\n            {languageOptions}\n          </Select>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setLang: lang => dispatch({ type: \"SET_LANG\", lang })\n  };\n};\n\nexport default Form.create({ name: \"setting\" })(\n  connect(mapStateToProps, mapDispatchToProps)(SettingForm)\n);\n","import React from \"react\";\n// import { Form, Input, Icon, Select } from \"antd\";\nimport { connect } from \"react-redux\";\nimport SettingForm from \"./setting-form\";\n\nclass Setting extends React.Component {\n  render() {\n    const lang = this.props.lang;\n    return (\n      <div>\n        <div style={{ textAlign: \"left\", paddingBottom: 16 }}>\n          <h1>{lang[\"common.nav.menu.setting\"]}</h1>\n        </div>\n        <div>\n          <SettingForm />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang\n  };\n};\n\nexport default connect(mapStateToProps)(Setting);\n","import React from \"react\";\nimport { Layout, Menu, Icon } from \"antd\";\nimport { Redirect, HashRouter as Router, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getUserInfo } from \"../api/common\";\n\nimport Application from \"./application\";\nimport Setting from \"./setting\";\n\nconst { Header, Content, Footer, Sider } = Layout;\n\nclass App extends React.Component {\n  yearNow = new Date().getFullYear();\n\n  state = {\n    username: \"\"\n  };\n\n  async componentDidMount() {\n    let userData = await getUserInfo();\n    this.setState({ ...userData });\n  }\n\n  switchRouter = info => {\n    window.location.hash = \"/\" + info.key;\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Layout>\n          <Sider\n            style={{\n              overflow: \"auto\",\n              height: \"100vh\",\n              position: \"fixed\",\n              left: 0,\n              zIndex: 100\n            }}\n          >\n            <div className=\"logo\" />\n            <Menu\n              theme=\"dark\"\n              mode=\"inline\"\n              defaultSelectedKeys={[this.props.navbarkey]}\n              onClick={this.switchRouter}\n            >\n              <div style={{ height: 36 }}>\n                <p\n                  style={{\n                    marginTop: 36,\n                    fontSize: \"200%\",\n                    textAlign: \"center\"\n                  }}\n                >\n                  IPorte\n                </p>\n              </div>\n              <Menu.Item key=\"application\">\n                <Icon type=\"unordered-list\" />\n                <span className=\"nav-text\">\n                  {this.props.lang[\"common.nav.menu.application\"]}\n                </span>\n              </Menu.Item>\n              <Menu.Item key=\"setting\">\n                <Icon type=\"setting\" />\n                <span className=\"nav-text\">\n                  {this.props.lang[\"common.nav.menu.setting\"]}\n                </span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Layout style={{ marginLeft: 200, minWidth: \"1200px\" }}>\n            <Header style={{ background: \"#fff\", padding: 0 }}>\n              <p style={{ textAlign: \"right\", marginRight: \"20px\" }}>\n                Hi, {this.state.username}\n              </p>\n            </Header>\n            <Content style={{ margin: \"24px 16px 0\", overflow: \"initial\" }}>\n              <div\n                style={{ padding: 24, background: \"#fff\", textAlign: \"center\" }}\n              >\n                <Router>\n                  <Redirect from=\"/\" to=\"/application\" />\n                  <Route path=\"/application\" component={Application} />\n                  <Route path=\"/setting\" component={Setting} />\n                </Router>\n              </div>\n            </Content>\n            <Footer style={{ textAlign: \"center\" }}>\n              ©{this.yearNow} IPorte API Gateway\n            </Footer>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang,\n    navbarkey: store.navbarkey\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n","import ajax from '../lib/ajax'\n\nexport const getUserInfo = params =>\n  ajax.request({\n    url: '/api/sys/user-info',\n    params,\n    method: 'get'\n  })","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport store from './store'\nimport App from \"./view/App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}