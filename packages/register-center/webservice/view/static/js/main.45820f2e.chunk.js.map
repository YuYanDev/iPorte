{"version":3,"sources":["img/language.svg","img/logo.svg","config/i18n/index.js","store/index.js","lib/ajax.js","api/application.js","view/application/components/add-domain/index.js","view/application/components/add-rule/index.js","view/application/index.js","view/setting/setting-form/index.js","view/setting/index.js","view/App.js","api/common.js","index.js"],"names":["module","exports","zh_CN","now","en_US","initialState","navbarkey","lang","langConfig","localStorage","getItem","setnavbarkey","state","action","setLang","createStore","type","axios","defaults","headers","timeout","this","queue","url","instance","interceptors","response","use","data","destroy","code","window","location","href","message","error","toString","indexOf","console","log","content","Promise","reject","options","create","Object","assign","addApplication","ajax","request","method","changeApplicationStatusById","deleteApplicationById","addApplicationRuleById","id","deleteApplicationRuleById","AddDomain","props","form","getFieldsValue","resetFields","onRef","getFieldDecorator","layout","Item","label","rules","required","validator","rule","value","callback","getFieldValue","RegExp","test","split","trim","React","Component","connect","store","name","AddRule","Application","statusBadgeHashMap","0","1","statusTextHashMap","applicationList","addAndEditDomainModalVisible","addAndEditDomainModalType","addAndEditDomainModalId","addAndEditDomainModalData","addAndEditRuleModalVisible","addAndEditRuleModalType","addAndEditRuleModalFatherId","addAndEditRuleModalId","addAndEditRuleModalData","stopModalVisible","stopModalType","stopModalTypeId","stopModalTypeName","stopModalTypeStatus","dropModalVisible","dropModalType","dropModalTypeId","dropModalTypePid","dropModalTypeName","addDomainRef","ref","addDomainDom","handleAddAndEditDomainModalOpen","setState","handleAddAndEditDomainModalOk","submitData","submit","then","handleAddAndEditDomainModalCancel","clear","fetchApplicationList","catch","e","String","addRuleRef","addRuleDom","handleAddAndEditRuleModalOpen","pid","handleAddAndEditRuleModalOk","handleAddAndEditRuleModalCancel","handleStopModalOpen","status","handleStopModalOk","newStatus","res","success","handleStopModalCancel","handleDropModalOpen","handleDropModalOk","handleDropModalCancel","domainChildTable","columns","getForwardListColumns","dataSource","pagination","title","dataIndex","key","width","render","text","record","length","align","onClick","className","params","getApplicationList","applications","style","textAlign","paddingBottom","icon","getDomainListColumns","expandedRowRender","visible","onOk","onCancel","footer","ghost","borderColor","color","Option","SettingForm","languageList","formItemLayout","labelCol","span","changeLanguage","event","setItem","languageOptions","map","d","src","language","alt","defaultValue","onChange","dispatch","Setting","Header","Content","Footer","Sider","App","yearNow","Date","getFullYear","username","switchRouter","info","hash","getUserInfo","userData","overflow","height","position","left","zIndex","theme","mode","defaultSelectedKeys","margin","lineHeight","fontSize","Logo","marginLeft","minWidth","background","padding","marginRight","from","to","path","component","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.45820f2e.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/language.ac8e88d6.svg\";","module.exports = __webpack_public_path__ + \"static/media/logo.bc2c0d16.svg\";","const zh_CN = {\n  now: \"zh_CN\",\n  \"common.text.modify\": \"修改\",\n  \"common.text.drop\": \"删除\",\n  \"common.text.start\": \"启动\",\n  \"common.text.stop\": \"暂停\",\n  \"common.text.add\": \"添加\",\n  \"common.text.edit\": \"修改\",\n  \"common.text.submit\": \"提交\",\n  \"common.text.confirm\": \"确认\",\n  \"common.text.cancel\": \"取消\",\n  \"common.nav.menu.application\": \"应用列表\",\n  \"common.nav.menu.setting\": \"设置\",\n  \"application.body.add_domain\": \"添加域名\",\n  \"application.table.head.domain_id\": \"域名ID\",\n  \"application.table.head.name\": \"名称\",\n  \"application.table.head.domain\": \"域名\",\n  \"application.table.head.rule_count\": \"规则数量\",\n  \"application.table.head.rule_id\": \"规则ID\",\n  \"application.table.head.rule_name\": \"规则名称\",\n  \"application.table.head.suffix\": \"后缀\",\n  \"application.table.head.status\": \"状态\",\n  \"application.table.head.type\": \"类型\",\n  \"application.table.head.rewrite\": \"目录重写\",\n  \"application.table.head.target\": \"转发地址\",\n  \"application.table.head.domain_operate\": \"域名操作\",\n  \"application.table.head.rule_operate\": \"规则操作\",\n  \"application.table.add_rule\": \"添加规则\",\n  \"application.common.domain\": \"域名\",\n  \"application.common.rule\": \"转发规则\",\n  \"application.common.name\": \"名称\",\n  \"application.common.add_domain_success\": \"添加域名成功？\",\n  \"application.common.add_rule_success\": \"添加规则成功？\",\n  \"application.common.stop_domain\": \"确定停用此域名吗？\",\n  \"application.common.stop_rule\": \"确定停用此转发规则吗？\",\n  \"application.common.stop_domain_success\": \"停用成功\",\n  \"application.common.stop_rule_success\": \"停用成功\",\n  \"application.common.start_domain\": \"确定启用此域名吗？\",\n  \"application.common.start_rule\": \"确定启用此转发规则吗？\",\n  \"application.common.start_domain_success\": \"启动成功\",\n  \"application.common.start_rule_success\": \"启动成功\",\n  \"application.common.drop_domain\": \"确定删除此域名吗？\",\n  \"application.common.drop_rule\": \"确定删除此转发规则吗？\",\n  \"application.common.drop_domain_success\":\"删除域名成功\",\n  \"application.common.drop_domain_unsuccess\":\"删除域名失败\",\n  \"application.common.drop_rule_success\":\"删除规则成功\",\n  \"application.common.drop_rule_unsuccess\":\"删除规则失败\"\n};\n\nconst en_US = {\n  now: \"en_US\",\n  \"common.text.modify\": \"Modify\",\n  \"common.text.drop\": \"Delete\",\n  \"common.text.start\": \"Start\",\n  \"common.text.stop\": \"Stop\",\n  \"common.text.add\": \"Add\",\n  \"common.text.edit\": \"Edit\",\n  \"common.text.submit\": \"Submit\",\n  \"common.text.confirm\": \"Confirm\",\n  \"common.text.cancel\": \"Cancel\",\n  \"common.nav.menu.application\": \"Applications\",\n  \"common.nav.menu.setting\": \"Setting\",\n  \"application.body.add_domain\": \"Add Domain\",\n  \"application.table.head.domain_id\": \"Domain ID\",\n  \"application.table.head.name\": \"Name\",\n  \"application.table.head.domain\": \"Domain\",\n  \"application.table.head.rule_count\": \"Rule Count\",\n  \"application.table.head.rule_id\": \"Rule ID\",\n  \"application.table.head.rule_name\": \"Rule Name\",\n  \"application.table.head.suffix\": \"Suffix\",\n  \"application.table.head.status\": \"Status\",\n  \"application.table.head.type\": \"Type\",\n  \"application.table.head.rewrite\": \"Rewrite\",\n  \"application.table.head.target\": \"Target\",\n  \"application.table.head.domain_operate\": \"Domain Operate\",\n  \"application.table.head.rule_operate\": \"Rule Operate\",\n  \"application.table.add_rule\": \"Add Rule\",\n  \"application.common.domain\": \"Domain\",\n  \"application.common.rule\": \"Rule\",\n  \"application.common.name\": \"Name\",\n  \"application.common.add_domain_success\": \"Add Domain Success\",\n  \"application.common.add_rule_success\": \"Add Rule Success\",\n  \"application.common.stop_domain\": \"Are you sure stop this domain?\",\n  \"application.common.stop_rule\": \"Are you sure stop this rule?\",\n  \"application.common.stop_domain_success\": \"Stop Success\",\n  \"application.common.stop_rule_success\": \"Stop Success\",\n  \"application.common.start_domain\": \"Are you sure start this domain?\",\n  \"application.common.start_rule\": \"Are you sure start this rule?\",\n  \"application.common.start_domain_success\": \"Start Success\",\n  \"application.common.start_rule_success\": \"Start Success\",\n  \"application.common.drop_domain\": \"Are you sure delete this domain?\",\n  \"application.common.drop_rule\": \"Are you sure delete this rule?\",\n  \"application.common.drop_domain_success\":\"deleted domain successfully.\",\n  \"application.common.drop_domain_unsuccess\":\"deleted domain failed.\",\n  \"application.common.drop_rule_success\":\"deleted rule successfully.\",\n  \"application.common.drop_rule_unsuccess\":\"deleted rule failed.\"\n};\n\nexport default {\n  zh_CN,\n  en_US\n};\n","import { createStore } from \"redux\";\nimport langConfig from \"../config/i18n\";\n\nconst initialState = {\n  navbarkey: \"application\",\n  lang:\n    langConfig[\n      localStorage.getItem(\"user_lang\") !== null\n        ? localStorage.getItem(\"user_lang\")\n        : \"en_US\"\n    ]\n};\n\nconst setnavbarkey = (state, action) => {\n  return { ...state, navbarkey: action.navbarkey };\n};\n\nconst setLang = (state, action) => {\n  return { ...state, lang: langConfig[action.lang] };\n};\n\nconst reducer = (state = initialState, action) => {\n  switch (action.type) {\n    case \"SET_NAVBAR_KEY\":\n      return setnavbarkey(state, action);\n    case \"SET_LANG\":\n      return setLang(state, action);\n    default:\n      return state;\n  }\n};\n\nexport default createStore(reducer);\n","import axios from \"axios\";\nimport { message } from 'antd';\n\naxios.defaults.headers[\"Content-Type\"] = \"application/json\";\naxios.defaults.timeout = 5000;\n\nclass Ajax {\n  constructor() {\n    this.queue = {};\n  }\n  destroy(url) {\n    delete this.queue[url];\n  }\n  interceptors(instance, url) {\n    // ajax global exception process\n    instance.interceptors.response.use(\n      ({ data = {} }) => {\n        // 提前销毁重复请求\n        this.destroy(url);\n        // 业务状态码及URL校验\n        if (data.code !== 200) {\n          if(data.code === 401){\n            window.location.href = \"/auth/login\";\n          }\n          message.error(data.message || 'Server Error');\n        }\n        return data;\n      },\n      error => {\n        if (error.toString().indexOf(\"401\") !== -1) {\n          console.log(\"no login\");\n          window.location.href = \"/auth/login\";\n        }\n        console.error({\n          content: \"服务器异常\"\n        });\n        return Promise.reject(error);\n      }\n    );\n  }\n  request(options) {\n    let instance = axios.create();\n    this.interceptors(instance);\n    options = Object.assign({}, options);\n    this.queue[options.url] = instance;\n    return instance(options);\n  }\n}\n\nexport default new Ajax();\n","import ajax from \"../lib/ajax\";\n\nexport const getApplicationList = (params) =>\n  ajax.request({\n    url: \"/api/application/list\",\n    params,\n    method: \"get\",\n  });\n\nexport const addApplication = (data) =>\n  ajax.request({\n    url: \"/api/application/add\",\n    data,\n    method: \"post\",\n  });\n\nexport const changeApplicationStatusById = (data) =>\n  ajax.request({\n    url: \"/api/application/changestatus\",\n    data,\n    method: \"post\",\n  });\n\nexport const deleteApplicationById = (data) =>\n  ajax.request({\n    url: \"/api/application/delete\",\n    data,\n    method: \"post\",\n  });\n\nexport const addApplicationRuleById = (data, id = \"\") =>\n  ajax.request({\n    url: `/api/application/${id}/addrule`,\n    data,\n    method: \"post\",\n  });\n\n  export const deleteApplicationRuleById = (data, id = \"\") =>\n  ajax.request({\n    url: `/api/application/${id}/deleterule`,\n    data,\n    method: \"post\",\n  });","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Input } from \"antd\";\n\nclass AddDomain extends React.Component {\n  submit() {\n    return this.props.form.getFieldsValue();\n  }\n\n  clear(){\n    this.props.form.resetFields()\n  }\n\n  componentDidMount() {\n    this.props.onRef(this);\n  }\n  \n  render() {\n    const { form } = this.props;\n    const { getFieldDecorator } = form;\n    const lang = this.props.lang;\n\n    return (\n      <Form layout={\"inline\"}>\n        <Form.Item label={lang[\"application.common.name\"]}>\n          {getFieldDecorator(\"name\", {\n            rules: [\n              {\n                required: true,\n                message: \"Please input the title of collection!\",\n              },\n            ],\n          })(<Input />)}\n        </Form.Item>\n        <Form.Item label={lang[\"application.common.domain\"]}>\n          {getFieldDecorator(\"domain\", {\n            rules: [\n              {\n                required: true,\n                message: \"Please input the title of collection!\",\n              },\n              {\n                validator: (rule, value, callback) => {\n                  const url = this.props.form.getFieldValue(\"domain\");\n                  const matchRegex =\n                    \"(?=^.{4,253}$)(^((?!-)[a-zA-Z0-9-]{0,62}[a-zA-Z0-9].)+[a-zA-Z]{2,63}$)\";\n                  const matchReg = new RegExp(matchRegex);\n                  return matchReg.test(url) && url.split(\"/\")[1].trim() === \"\"\n                    ? callback()\n                    : callback(\"illgare\");\n                },\n                message: \"域名不合法\",\n              },\n            ],\n          })(<Input />)}\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    lang: store.lang,\n  };\n};\n\nexport default connect(mapStateToProps)(\n  Form.create({ name: \"add_domain\" })(AddDomain)\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Form, Input } from \"antd\";\n\nclass AddRule extends React.Component {\n  submit() {\n    return this.props.form.getFieldsValue();\n  }\n\n  clear() {\n    this.props.form.resetFields();\n  }\n\n  componentDidMount() {\n    this.props.onRef(this);\n  }\n\n  render() {\n    const { form } = this.props;\n    const { getFieldDecorator } = form;\n    const lang = this.props.lang;\n\n    return (\n      <Form layout={\"inline\"}>\n        <Form.Item label={lang[\"application.common.name\"]}>\n          {getFieldDecorator(\"name\", {\n            rules: [\n              {\n                required: true,\n                message: \"Please input the title of collection!\",\n              },\n            ],\n          })(<Input />)}\n        </Form.Item>\n        <Form.Item label={\"后缀\"}>\n          {getFieldDecorator(\"suffix\", {\n            rules: [\n              {\n                required: true,\n                message: \"Please input the title of collection!\",\n              },\n            ],\n          })(<Input />)}\n        </Form.Item>\n        <Form.Item label={\"指向\"}>\n          {getFieldDecorator(\"target\", {\n            rules: [\n              {\n                required: true,\n                message: \"Please input the title of collection!\",\n              },\n            ],\n          })(<Input />)}\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    lang: store.lang,\n  };\n};\n\nexport default connect(mapStateToProps)(\n  Form.create({ name: \"add_domain\" })(AddRule)\n);\n","import React from \"react\";\nimport { connect } from \"react-redux\";\nimport { Table, Button, Badge, message, Modal } from \"antd\";\nimport {\n  getApplicationList,\n  addApplication,\n  changeApplicationStatusById,\n  deleteApplicationById,\n  addApplicationRuleById,\n  deleteApplicationRuleById,\n} from \"../../api/application\";\nimport AddDomain from \"./components/add-domain\";\nimport AddRule from \"./components/add-rule\";\n\nclass Application extends React.Component {\n  statusBadgeHashMap = {\n    0: \"error\",\n    1: \"success\",\n  };\n  statusTextHashMap = {\n    0: \"Stoped\",\n    1: \"Running\",\n  };\n\n  getDomainListColumns() {\n    const lang = this.props.lang;\n    return [\n      {\n        title: lang[\"application.table.head.domain_id\"],\n        dataIndex: \"id\",\n        key: \"id\",\n        width: 100,\n      },\n      {\n        title: lang[\"application.table.head.name\"],\n        dataIndex: \"name\",\n        key: \"name\",\n        width: 150,\n      },\n      {\n        title: lang[\"application.table.head.domain\"],\n        dataIndex: \"domain\",\n        key: \"domain\",\n        width: 200,\n      },\n      {\n        title: lang[\"application.table.head.rule_count\"],\n        key: \"rule\",\n        render: (text, record) => <span>{record.rule.length}</span>,\n      },\n      {\n        title: lang[\"application.table.head.status\"],\n        key: \"status\",\n        dataIndex: \"status\",\n        width: 150,\n        render: (text, record) => (\n          <span>\n            <Badge status={this.statusBadgeHashMap[text]} />\n            {this.statusTextHashMap[text]}\n          </span>\n        ),\n      },\n      {\n        title: lang[\"application.table.head.domain_operate\"],\n        key: \"action\",\n        width: 240,\n        align: \"right\",\n        render: (text, record) => (\n          <span>\n            <a\n              onClick={() =>\n                this.handleAddAndEditRuleModalOpen(\"add\", record.id)\n              }\n            >\n              {lang[\"application.table.add_rule\"]}\n            </a>\n            {\" | \"}\n            {/* <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleAddAndEditDomainModalOpen(\"edit\", record.id, record)\n              }\n            >\n              {lang[\"common.text.modify\"]}\n            </a>\n            {\" | \"} */}\n            <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleStopModalOpen(\n                  \"domain\",\n                  record.id,\n                  record.name,\n                  record.status\n                )\n              }\n            >\n              {record.status === 1\n                ? lang[\"common.text.stop\"]\n                : lang[\"common.text.start\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"error-text\"\n              onClick={() =>\n                this.handleDropModalOpen(\"domain\", record.id, record.name)\n              }\n            >\n              {lang[\"common.text.drop\"]}\n            </a>\n          </span>\n        ),\n      },\n    ];\n  }\n\n  getForwardListColumns(pid) {\n    const lang = this.props.lang;\n    return [\n      {\n        title: lang[\"application.table.head.rule_id\"],\n        dataIndex: \"id\",\n        key: \"id\",\n        width: 100,\n      },\n      {\n        title: lang[\"application.table.head.rule_name\"],\n        dataIndex: \"name\",\n        key: \"name\",\n        width: 150,\n      },\n      {\n        title: lang[\"application.table.head.suffix\"],\n        dataIndex: \"suffix\",\n        key: \"suffix\",\n        width: 200,\n      },\n      {\n        title: lang[\"application.table.head.type\"],\n        dataIndex: \"type\",\n        key: \"type\",\n      },\n      {\n        title: lang[\"application.table.head.target\"],\n        key: \"target\",\n        dataIndex: \"target\",\n      },\n      // {\n      //   title: lang[\"application.table.head.status\"],\n      //   key: \"status\",\n      //   dataIndex: \"status\",\n      //   width: 150,\n      //   render: (text, record) => (\n      //     <span>\n      //       <Badge status={this.statusBadgeHashMap[text]} />\n      //       {this.statusTextHashMap[text]}\n      //     </span>\n      //   )\n      // },\n      {\n        title: lang[\"application.table.head.rule_operate\"],\n        key: \"action\",\n        width: 240,\n        align: \"right\",\n        render: (text, record) => (\n          <span>\n            {/* <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleAddAndEditRuleModalOpen(\"edit\", record.id, record)\n              }\n            >\n              {lang[\"common.text.modify\"]}\n            </a>\n            {\" | \"}\n            <a\n              className=\"warn-text\"\n              onClick={() =>\n                this.handleStopModalOpen(\"rule\", record.id, record.name)\n              }\n            >\n              {lang[\"common.text.stop\"]}\n            </a>\n            {\" | \"} */}\n            <a\n              className=\"error-text\"\n              onClick={() =>\n                this.handleDropModalOpen(\"rule\", record.id, record.name, pid)\n              }\n            >\n              {lang[\"common.text.drop\"]}\n            </a>\n          </span>\n        ),\n      },\n    ];\n  }\n\n  state = {\n    applicationList: [],\n    /* add and edit domain model state */\n    addAndEditDomainModalVisible: false,\n    addAndEditDomainModalType: \"add\",\n    addAndEditDomainModalId: null,\n    addAndEditDomainModalData: {},\n    /* add and edit domain rule state */\n    addAndEditRuleModalVisible: false,\n    addAndEditRuleModalType: \"add\",\n    addAndEditRuleModalFatherId: null,\n    addAndEditRuleModalId: null,\n    addAndEditRuleModalData: {},\n    /* stop domain or rule model state */\n    stopModalVisible: false,\n    stopModalType: \"domain\",\n    stopModalTypeId: null,\n    stopModalTypeName: \"\",\n    stopModalTypeStatus: null,\n    /* drop domain or rule model state */\n    dropModalVisible: false,\n    dropModalType: \"domain\",\n    dropModalTypeId: null,\n    dropModalTypePid: null,\n    dropModalTypeName: \"\",\n  };\n\n  /**\n   * add and edit domain model functions\n   */\n  addDomainRef = (ref) => {\n    this.addDomainDom = ref;\n  };\n  handleAddAndEditDomainModalOpen = (type, id, data) => {\n    if (type === \"edit\") {\n      this.setState({\n        addAndEditDomainModalVisible: true,\n        addAndEditDomainModalType: \"edit\",\n        addAndEditDomainModalId: id,\n        addAndEditDomainModalData: data,\n      });\n    } else {\n      this.setState({\n        addAndEditDomainModalVisible: true,\n        addAndEditDomainModalType: \"add\",\n        addAndEditDomainModalId: null,\n        addAndEditDomainModalData: {},\n      });\n    }\n  };\n\n  handleAddAndEditDomainModalOk = () => {\n    const submitData = this.addDomainDom.submit();\n    addApplication(submitData)\n      .then(() => {\n        this.handleAddAndEditDomainModalCancel();\n        this.addDomainDom.clear();\n        this.fetchApplicationList();\n      })\n      .catch((e) => {\n        message.error(String(e));\n      });\n  };\n\n  handleAddAndEditDomainModalCancel = () => {\n    this.setState({\n      addAndEditDomainModalVisible: false,\n      addAndEditDomainModalType: \"add\",\n      addAndEditDomainModalId: null,\n      addAndEditDomainModalData: {},\n    });\n  };\n\n  /**\n   * add and edit rule model functions\n   */\n  addRuleRef = (ref) => {\n    this.addRuleDom = ref;\n  };\n  handleAddAndEditRuleModalOpen = (type, pid, id, data) => {\n    if (type === \"edit\") {\n      this.setState({\n        addAndEditRuleModalVisible: true,\n        addAndEditRuleModalType: \"edit\",\n        addAndEditRuleModalFatherId: pid,\n        addAndEditRuleModalId: id,\n        addAndEditRuleModalData: data,\n      });\n    } else {\n      this.setState({\n        addAndEditRuleModalVisible: true,\n        addAndEditRuleModalType: \"add\",\n        addAndEditRuleModalFatherId: pid,\n        addAndEditRuleModalId: null,\n        addAndEditRuleModalData: {},\n      });\n    }\n  };\n\n  handleAddAndEditRuleModalOk = () => {\n    const submitData = this.addRuleDom.submit();\n    const { addAndEditRuleModalFatherId } = this.state;\n    addApplicationRuleById(submitData, addAndEditRuleModalFatherId)\n      .then(() => {\n        this.fetchApplicationList();\n        this.handleAddAndEditRuleModalCancel();\n        this.addRuleDom.clear();\n      })\n      .catch((e) => {\n        message.error(String(e));\n      });\n  };\n\n  handleAddAndEditRuleModalCancel = () => {\n    this.setState({\n      addAndEditRuleModalVisible: false,\n      addAndEditRuleModalType: \"add\",\n      addAndEditRuleModalFatherId: null,\n      addAndEditRuleModalId: null,\n      addAndEditRuleModalData: {},\n    });\n  };\n\n  /**\n   * stop domain or rule model functions\n   */\n  handleStopModalOpen = (type, id, name, status) => {\n    this.setState({\n      stopModalVisible: true,\n      stopModalType: type,\n      stopModalTypeId: id,\n      stopModalTypeName: name,\n      stopModalTypeStatus: status,\n    });\n  };\n\n  handleStopModalOk = () => {\n    const { lang } = this.props;\n    const { stopModalTypeStatus, stopModalTypeId } = this.state;\n    const newStatus = stopModalTypeStatus === 1 ? 0 : 1;\n    changeApplicationStatusById({ status: newStatus, id: stopModalTypeId })\n      .then((res) => {\n        message.success(\n          newStatus === 1\n            ? lang[\"application.common.start_domain_success\"]\n            : lang[\"application.common.stop_domain_success\"]\n        );\n        this.fetchApplicationList();\n        this.handleStopModalCancel();\n      })\n      .catch((e) => {\n        message.error(String(e));\n      });\n  };\n\n  handleStopModalCancel = () => {\n    this.setState({\n      stopModalVisible: false,\n      stopModalType: \"domain\",\n      stopModalTypeId: null,\n      stopModalTypeName: \"\",\n      stopModalTypeStatus: null,\n    });\n  };\n\n  /**\n   * drop domain or rule model functions\n   */\n  handleDropModalOpen = (type, id, name, pid) => {\n    this.setState({\n      dropModalVisible: true,\n      dropModalType: type,\n      dropModalTypeId: id,\n      dropModalTypePid: pid,\n      dropModalTypeName: name,\n    });\n  };\n\n  handleDropModalOk = () => {\n    if (this.state.dropModalType === \"domain\") {\n      deleteApplicationById({ id: this.state.dropModalTypeId })\n        .then(() => {\n          message.success(\n            this.props.lang[\"application.common.drop_domain_success\"]\n          );\n          this.fetchApplicationList();\n          this.handleDropModalCancel();\n        })\n        .catch(() => {\n          message.error(\n            this.props.lang[\"application.common.drop_domain_unsuccess\"]\n          );\n        });\n    }\n    if (this.state.dropModalType === \"rule\") {\n      deleteApplicationRuleById(\n        { id: this.state.dropModalTypeId },\n        this.state.dropModalTypePid\n      )\n        .then((res) => {\n          message.success(\n            this.props.lang[\"application.common.drop_rule_success\"]\n          );\n          this.fetchApplicationList();\n          this.handleDropModalCancel();\n        })\n        .catch((e) => {\n          message.error(\n            this.props.lang[\"application.common.drop_rule_unsuccess\"]\n          );\n        });\n    }\n  };\n\n  handleDropModalCancel = () => {\n    this.setState({\n      dropModalVisible: false,\n      dropModalType: \"domain\",\n      dropModalTypeId: null,\n      dropModalTypePid: null,\n      dropModalTypeName: \"\",\n    });\n  };\n\n  /**\n   * other function\n   */\n  async fetchApplicationList() {\n    let applicationList = await getApplicationList();\n    this.setState({ applicationList: applicationList.data.applications });\n  }\n\n  componentDidMount() {\n    this.fetchApplicationList();\n  }\n\n  domainChildTable = (data) => {\n    return (\n      <Table\n        columns={this.getForwardListColumns(data.id)}\n        dataSource={data.rule}\n        pagination={false}\n      />\n    );\n  };\n\n  render() {\n    const lang = this.props.lang;\n    return (\n      <div>\n        <div style={{ textAlign: \"left\", paddingBottom: 16 }}>\n          <h1>{lang[\"common.nav.menu.application\"]}</h1>\n          <Button\n            type=\"primary\"\n            icon=\"plus\"\n            onClick={() => this.handleAddAndEditDomainModalOpen(\"add\")}\n          >\n            {lang[\"application.body.add_domain\"]}\n          </Button>\n        </div>\n        <Table\n          columns={this.getDomainListColumns()}\n          expandedRowRender={this.domainChildTable}\n          dataSource={this.state.applicationList}\n        />\n        {/**\n         * add/edit domain modal\n         */}\n        <Modal\n          visible={this.state.addAndEditDomainModalVisible}\n          onOk={this.handleAddAndEditDomainModalOk}\n          onCancel={this.handleAddAndEditDomainModalCancel}\n          title={\n            (this.state.addAndEditDomainModalType === \"add\"\n              ? lang[\"common.text.add\"]\n              : lang[\"common.text.edit\"]) + lang[\"application.common.domain\"]\n          }\n          footer={[\n            <Button key=\"back\" onClick={this.handleAddAndEditDomainModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"primary\"\n              onClick={this.handleAddAndEditDomainModalOk}\n            >\n              {lang[\"common.text.submit\"]}\n            </Button>,\n          ]}\n        >\n          <AddDomain onRef={this.addDomainRef} />\n        </Modal>\n        {/**\n         * add/edit rule modal\n         */}\n        <Modal\n          visible={this.state.addAndEditRuleModalVisible}\n          onOk={this.handleAddAndEditRuleModalOk}\n          onCancel={this.handleAddAndEditRuleModalCancel}\n          title={\n            (this.state.addAndEditRuleModalType === \"add\"\n              ? lang[\"common.text.add\"]\n              : lang[\"common.text.edit\"]) + lang[\"application.common.rule\"]\n          }\n          footer={[\n            <Button key=\"back\" onClick={this.handleAddAndEditRuleModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"primary\"\n              onClick={this.handleAddAndEditRuleModalOk}\n            >\n              {lang[\"common.text.submit\"]}\n            </Button>,\n          ]}\n        >\n          <AddRule onRef={this.addRuleRef} />\n        </Modal>\n        {/**\n         * stop modal\n         */}\n        <Modal\n          visible={this.state.stopModalVisible}\n          onOk={this.handleStopModalOk}\n          onCancel={this.handleStopModalCancel}\n          footer={[\n            <Button key=\"back\" onClick={this.handleStopModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"danger\"\n              ghost\n              onClick={this.handleStopModalOk}\n              style={{ borderColor: \"#faad14\", color: \"#faad14\" }}\n            >\n              {lang[\"common.text.confirm\"]}\n            </Button>,\n          ]}\n        >\n          {this.state.stopModalType === \"domain\"\n            ? this.state.stopModalTypeStatus === 1\n              ? lang[\"application.common.stop_domain\"]\n              : lang[\"application.common.start_domain\"]\n            : this.state.stopModalTypeStatus === 1\n            ? lang[\"application.common.stop_rule\"]\n            : lang[\"application.common.start_rule\"]}\n        </Modal>\n        {/**\n         * drop modal\n         */}\n        <Modal\n          visible={this.state.dropModalVisible}\n          onOk={this.handleDropModalOk}\n          onCancel={this.handleDropModalCancel}\n          footer={[\n            <Button key=\"back\" onClick={this.handleDropModalCancel}>\n              {lang[\"common.text.cancel\"]}\n            </Button>,\n            <Button\n              key=\"submit\"\n              type=\"danger\"\n              ghost\n              onClick={this.handleDropModalOk}\n              style={{ borderColor: \"#f5222d\", color: \"#f5222d\" }}\n            >\n              {lang[\"common.text.confirm\"]}\n            </Button>,\n          ]}\n        >\n          {this.state.dropModalType === \"domain\"\n            ? lang[\"application.common.drop_domain\"]\n            : lang[\"application.common.drop_rule\"]}\n        </Modal>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = (store) => {\n  return {\n    lang: store.lang,\n  };\n};\n\nexport default connect(mapStateToProps)(Application);\n","import React from \"react\";\nimport { Form, Select } from \"antd\";\nimport { connect } from \"react-redux\";\nimport language from \"../../../img/language.svg\";\nimport \"./index.scss\";\n\nconst { Option } = Select;\n\nclass SettingForm extends React.Component {\n  languageList = [\n    {\n      value: \"zh_CN\",\n      text: \"简体中文\"\n    },\n    {\n      value: \"en_US\",\n      text: \"English\"\n    }\n  ];\n\n  formItemLayout = {\n    labelCol: { span: 1 }\n  };\n\n  changeLanguage = event => {\n    localStorage.setItem(\"user_lang\", event);\n    this.props.setLang(event);\n  };\n\n  render() {\n    const languageOptions = this.languageList.map(d => (\n      <Option key={d.value}>{d.text}</Option>\n    ));\n    return (\n      <Form {...this.formItemLayout}>\n        <Form.Item label={<img src={language} alt=\"language\"/>} style={{ textAlign: \"left\" }}>\n          <Select\n            defaultValue={this.props.lang[\"now\"]}\n            style={{ width: 120 }}\n            onChange={this.changeLanguage}\n          >\n            {languageOptions}\n          </Select>\n        </Form.Item>\n      </Form>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang\n  };\n};\n\nconst mapDispatchToProps = dispatch => {\n  return {\n    setLang: lang => dispatch({ type: \"SET_LANG\", lang })\n  };\n};\n\nexport default Form.create({ name: \"setting\" })(\n  connect(mapStateToProps, mapDispatchToProps)(SettingForm)\n);\n","import React from \"react\";\n// import { Form, Input, Icon, Select } from \"antd\";\nimport { connect } from \"react-redux\";\nimport SettingForm from \"./setting-form\";\n\nclass Setting extends React.Component {\n  render() {\n    const lang = this.props.lang;\n    return (\n      <div>\n        <div style={{ textAlign: \"left\", paddingBottom: 16 }}>\n          <h1>{lang[\"common.nav.menu.setting\"]}</h1>\n        </div>\n        <div>\n          <SettingForm />\n        </div>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang\n  };\n};\n\nexport default connect(mapStateToProps)(Setting);\n","import React from \"react\";\nimport { Layout, Menu, Icon } from \"antd\";\nimport { Redirect, HashRouter as Router, Route } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { getUserInfo } from \"../api/common\";\n\nimport Application from \"./application\";\nimport Setting from \"./setting\";\nimport Logo from \"../img/logo.svg\";\nconst { Header, Content, Footer, Sider } = Layout;\n\nclass App extends React.Component {\n  yearNow = new Date().getFullYear();\n\n  state = {\n    username: \"\"\n  };\n\n  async componentDidMount() {\n    let userData = await getUserInfo();\n    this.setState({ ...userData });\n  }\n\n  switchRouter = info => {\n    window.location.hash = \"/\" + info.key;\n  };\n\n  render() {\n    return (\n      <div className=\"App\">\n        <Layout>\n          <Sider\n            style={{\n              overflow: \"auto\",\n              height: \"100vh\",\n              position: \"fixed\",\n              left: 0,\n              zIndex: 100\n            }}\n          >\n            <div className=\"logo\" />\n            <Menu\n              theme=\"dark\"\n              mode=\"inline\"\n              defaultSelectedKeys={[this.props.navbarkey]}\n              onClick={this.switchRouter}\n            >\n              <div style={{ height: 30, margin: \"24px 0\" }}>\n                <p\n                  style={{\n                    lineHeight: \"26px\",\n                    fontSize: \"26px\",\n                    textAlign: \"center\"\n                  }}\n                >\n                  <img src={Logo} height={30} />\n                  <span\n                    style={{\n                      marginLeft: \"12px\",\n                    }}\n                  >\n                    IPorte\n                  </span>\n                </p>\n              </div>\n              <Menu.Item key=\"application\">\n                <Icon type=\"unordered-list\" />\n                <span className=\"nav-text\">\n                  {this.props.lang[\"common.nav.menu.application\"]}\n                </span>\n              </Menu.Item>\n              <Menu.Item key=\"setting\">\n                <Icon type=\"setting\" />\n                <span className=\"nav-text\">\n                  {this.props.lang[\"common.nav.menu.setting\"]}\n                </span>\n              </Menu.Item>\n            </Menu>\n          </Sider>\n          <Layout style={{ marginLeft: 200, minWidth: \"1200px\" }}>\n            <Header style={{ background: \"#fff\", padding: 0 }}>\n              <p style={{ textAlign: \"right\", marginRight: \"20px\" }}>\n                Hi, {this.state.username}\n              </p>\n            </Header>\n            <Content style={{ margin: \"24px 16px 0\", overflow: \"initial\" }}>\n              <div\n                style={{ padding: 24, background: \"#fff\", textAlign: \"center\" }}\n              >\n                <Router>\n                  <Redirect from=\"/\" to=\"/application\" />\n                  <Route path=\"/application\" component={Application} />\n                  <Route path=\"/setting\" component={Setting} />\n                </Router>\n              </div>\n            </Content>\n            <Footer style={{ textAlign: \"center\" }}>\n              ©{this.yearNow} IPorte API Gateway\n            </Footer>\n          </Layout>\n        </Layout>\n      </div>\n    );\n  }\n}\n\nconst mapStateToProps = store => {\n  return {\n    lang: store.lang,\n    navbarkey: store.navbarkey\n  };\n};\n\nexport default connect(mapStateToProps)(App);\n","import ajax from '../lib/ajax'\n\nexport const getUserInfo = params =>\n  ajax.request({\n    url: '/api/sys/user-info',\n    params,\n    method: 'get'\n  })","import React from \"react\";\nimport { Provider } from \"react-redux\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport store from './store'\nimport App from \"./view/App\";\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}